<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Document</title>
    <!-- Latest compiled and minified CSS -->

    <link rel="stylesheet" href="index.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
    />

    <!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="semantic/dist/semantic.min.css"
    />
    <script
      src="https://code.jquery.com/jquery-3.1.1.min.js"
      integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous"
    ></script>
    <scrips src="semantic/dist/semantic.min.js"></scrips>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script
      src="https://unpkg.com/react/umd/react.production.min.js"
      crossorigin
    ></script>

    <script
      src="https://unpkg.com/react-dom/umd/react-dom.production.min.js"
      crossorigin
    ></script>
  </head>

  <body class="body">
    <div id="root"></div>
    <script type="text/babel">
      // const options=[
      //     {value:'USD' , text:'USD'},
      //     {value:'EUR' , text:'EUR'},
      //     {value:'GBP' , text:'GBP'},

      //    ]

      const mocked = {
        time: {
          updated: "Jan 6, 2022 12:41:00 UTC",
          updatedISO: "2022-01-06T12:41:00+00:00",
          updateduk: "Jan 6, 2022 at 12:41 GMT",
        },
        disclaimer:
          "This data was produced from the CoinDesk Bitcoin Price Index (USD). Non-USD currency data converted using hourly conversion rate from openexchangerates.org",
        chartName: "Bitcoin",
        bpi: {
          USD: {
            code: "USD",
            symbol: "&#36;",
            rate: "42,795.5183",
            description: "United States Dollar",
            rate_float: 42795.5183,
          },
          GBP: {
            code: "GBP",
            symbol: "&pound;",
            rate: "31,614.5900",
            description: "British Pound Sterling",
            rate_float: 31614.59,
          },
          EUR: {
            code: "EUR",
            symbol: "&euro;",
            rate: "37,827.3438",
            description: "Euro",
            rate_float: 37827.3438,
          },
        },
      };

     

      // ReactDOM.render(<MountLifeCycle />, document.getElementById("root"));
      const COLORS = {
        true: "green",
        false: "red",
        null: "gray",
      };

      const useCurrency = currency => {
        const [isGrowing, setIsGrowing] = React.useState(null);
        // const [oldRate, setOldRate] = React.useState(null);
        const [rate, setRate] = React.useState(null);

        React.useEffect(() => {
          // latest state of server
          async function grabData() {
            const data = await fetch(
              "https://api.coindesk.com/v1/bpi/currentprice.json"
            ).then(res => res.json());

            const serverRate = data.bpi[currency].rate_float;

            if (!rate) setRate(serverRate);
            // no rate not isGrowing
            else if (rate !== serverRate) {
              if (serverRate < rate) setIsGrowing(false);
              else setIsGrowing(true);

              setRate(serverRate);
            }
          }

           let timer = setInterval(grabData, 1000);
          return () => clearInterval(timer);
        }, [rate]);

        return [isGrowing, rate];

        // {}
      };

      const App = () => {
        
        const [usdGrowing, usdRate] = useCurrency("USD");
       
        const [gbpGrowing, gbpRate] = useCurrency("GBP");
        const [eurGrowing, eurRate] = useCurrency("EUR");
        return (
          <div >
            <nav class="navbar navbar-expand-sm bg-dark navbar-dark sticky-top">
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <a class="navbar-brand brand" href="#">
                  BIT MARK
                </a>
                <a class="nav-link n_link" href="index2.html">
                  Home
                </a>
                <a class="nav-link n_link" href="market.html">
                  Market News
                </a>
                <a class="nav-link n_link" href="about.html">
                  About us
                </a>
                </div>
              </nav>
              <div id="demo" class="carousel slide" data-ride="carousel">
                <ul class="carousel-indicators">
                  <li data-target="#demo" data-slide-to="0" class="active"></li>
                  <li data-target="#demo" data-slide-to="1"></li>
                  <li data-target="#demo" data-slide-to="2"></li>
                </ul>

                <div class="carousel-inner">
                  <div class="carousel-item">
                    <img
                      src="./img/بیتکوین-12.jpg"
                      alt="New York"
                      class="c_img"
                    />
                  </div>
                  <div class="carousel-item active">
                    <img
                      src="./img/bitcoin-hack-photo.jpg"
                      alt="Los Angeles"
                      class="c_img"
                    />
                  </div>
                  <div class="carousel-item">
                    <img src="./img/OlGR8c.jpg" alt="Chicago" class="c_img" />
                  </div>
                </div>




                <div>
                  <div class="ui segment">
                    <p></p>
                    <div class="ui active dimmer">
                      <div class="ui loader">
                        <div class="spinner-grow text-dark spinner"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <a class="carousel-control-prev" href="#demo" data-slide="prev">
                  <span class="carousel-control-prev-icon"></span>
                </a>
                <a class="carousel-control-next" href="#demo" data-slide="next">
                  <span class="carousel-control-next-icon"></span>
                </a>
              </div>

              <div class="card-container">
                    <div class="card cards">
                      <div class="card-header">
                        <img
                          src="./img/bitcoin-btc-cash-euro-bills_89378-569.jpg"
                          class="card-img"
                        />
                      </div>
                      <div class="card-body">
                        <h4 class="card-title">EUR/BIT</h4>
                        price:
                        <p style={{ color: COLORS[eurGrowing] }}> {eurRate}&euro; </p>
                        <div>
                          {" "}
                          <a href="chart2.html" class='mylink'>see price chart</a>
                        </div>
                      </div>
                    </div>
                    <div class="card cards">
                      <div class="card-header">
                        <img
                          src="./img/https___specials-images.forbesimg.com_imageserve_869259640_0x0.jpg"
                          class="card-img"
                        />
                      </div>
                      <div class="card-body">
                        <h4 class="card-title">USD/BIT</h4>
                        
                     
                       price: <p style={{ color: COLORS[usdGrowing] }}>  {usdRate}&#36;</p>
                        <div>
                          {" "}
                          <a href="chart.html" class='mylink'>see price chart</a>
                        </div>
                      </div>
                    </div>
                    <div class="card cards">
                      <div class="card-header">
                        <img
                          src="./img/_116329010_tv064829922.jpg"
                          class="card-img"
                        />
                      </div>
                      <div class="card-body">
                        <h4 class="card-title">GBP/BIT</h4>
                        price:
                         <p style={{ color: COLORS[gbpGrowing] }}> {gbpRate}&pound; </p>
                        <div>
                          <a href="chart3.html" class='mylink'>see price chart</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <footer class="foot"></footer>
            

          </div>
        );
      };
      ReactDOM.render(<App />, document.getElementById("root"));
    </script>
  </body>
</html>
